"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.connect = exports.connectIfSessionExists = void 0;
const storage_1 = require("./storage");
function connectIfSessionExists() {
    const storedSession = (0, storage_1.getStoredSession)();
    if (!!storedSession) {
        return connect(storedSession);
    }
    return null;
}
exports.connectIfSessionExists = connectIfSessionExists;
function connect(options) {
    (0, storage_1.storeSession)(options);
    function disconnect() {
        (0, storage_1.clearStoredSession)();
    }
    return {
        ...options,
        disconnect,
    };
}
exports.connect = connect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9AdGVycmEtZGV2L3JlYWRvbmx5LXdhbGxldC9jb25uZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHVDQUErRTtBQVMvRSxTQUFnQixzQkFBc0I7SUFDcEMsTUFBTSxhQUFhLEdBQUcsSUFBQSwwQkFBZ0IsR0FBRSxDQUFDO0lBRXpDLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRTtRQUNuQixPQUFPLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUMvQjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQVJELHdEQVFDO0FBRUQsU0FBZ0IsT0FBTyxDQUNyQixPQUE4QjtJQUU5QixJQUFBLHNCQUFZLEVBQUMsT0FBTyxDQUFDLENBQUM7SUFFdEIsU0FBUyxVQUFVO1FBQ2pCLElBQUEsNEJBQWtCLEdBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsT0FBTztRQUNMLEdBQUcsT0FBTztRQUNWLFVBQVU7S0FDWCxDQUFDO0FBQ0osQ0FBQztBQWJELDBCQWFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xlYXJTdG9yZWRTZXNzaW9uLCBnZXRTdG9yZWRTZXNzaW9uLCBzdG9yZVNlc3Npb24gfSBmcm9tICcuL3N0b3JhZ2UnO1xuaW1wb3J0IHsgUmVhZG9ubHlXYWxsZXRTZXNzaW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZG9ubHlXYWxsZXRDb250cm9sbGVyIGV4dGVuZHMgUmVhZG9ubHlXYWxsZXRTZXNzaW9uIHtcbiAgZGlzY29ubmVjdDogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWFkb25seVdhbGxldE9wdGlvbnMgZXh0ZW5kcyBSZWFkb25seVdhbGxldFNlc3Npb24ge31cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbm5lY3RJZlNlc3Npb25FeGlzdHMoKTogUmVhZG9ubHlXYWxsZXRDb250cm9sbGVyIHwgbnVsbCB7XG4gIGNvbnN0IHN0b3JlZFNlc3Npb24gPSBnZXRTdG9yZWRTZXNzaW9uKCk7XG5cbiAgaWYgKCEhc3RvcmVkU2Vzc2lvbikge1xuICAgIHJldHVybiBjb25uZWN0KHN0b3JlZFNlc3Npb24pO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0KFxuICBvcHRpb25zOiBSZWFkb25seVdhbGxldE9wdGlvbnMsXG4pOiBSZWFkb25seVdhbGxldENvbnRyb2xsZXIge1xuICBzdG9yZVNlc3Npb24ob3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICBjbGVhclN0b3JlZFNlc3Npb24oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBkaXNjb25uZWN0LFxuICB9O1xufVxuIl19