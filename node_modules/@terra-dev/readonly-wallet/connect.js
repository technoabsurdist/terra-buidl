import { clearStoredSession, getStoredSession, storeSession } from './storage';
export function connectIfSessionExists() {
    const storedSession = getStoredSession();
    if (!!storedSession) {
        return connect(storedSession);
    }
    return null;
}
export function connect(options) {
    storeSession(options);
    function disconnect() {
        clearStoredSession();
    }
    return {
        ...options,
        disconnect,
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9AdGVycmEtZGV2L3JlYWRvbmx5LXdhbGxldC9jb25uZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxZQUFZLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFTL0UsTUFBTSxVQUFVLHNCQUFzQjtJQUNwQyxNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBRXpDLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRTtRQUNuQixPQUFPLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUMvQjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVELE1BQU0sVUFBVSxPQUFPLENBQ3JCLE9BQThCO0lBRTlCLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUV0QixTQUFTLFVBQVU7UUFDakIsa0JBQWtCLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsT0FBTztRQUNMLEdBQUcsT0FBTztRQUNWLFVBQVU7S0FDWCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFyU3RvcmVkU2Vzc2lvbiwgZ2V0U3RvcmVkU2Vzc2lvbiwgc3RvcmVTZXNzaW9uIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCB7IFJlYWRvbmx5V2FsbGV0U2Vzc2lvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRvbmx5V2FsbGV0Q29udHJvbGxlciBleHRlbmRzIFJlYWRvbmx5V2FsbGV0U2Vzc2lvbiB7XG4gIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZG9ubHlXYWxsZXRPcHRpb25zIGV4dGVuZHMgUmVhZG9ubHlXYWxsZXRTZXNzaW9uIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0SWZTZXNzaW9uRXhpc3RzKCk6IFJlYWRvbmx5V2FsbGV0Q29udHJvbGxlciB8IG51bGwge1xuICBjb25zdCBzdG9yZWRTZXNzaW9uID0gZ2V0U3RvcmVkU2Vzc2lvbigpO1xuXG4gIGlmICghIXN0b3JlZFNlc3Npb24pIHtcbiAgICByZXR1cm4gY29ubmVjdChzdG9yZWRTZXNzaW9uKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29ubmVjdChcbiAgb3B0aW9uczogUmVhZG9ubHlXYWxsZXRPcHRpb25zLFxuKTogUmVhZG9ubHlXYWxsZXRDb250cm9sbGVyIHtcbiAgc3RvcmVTZXNzaW9uKG9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgY2xlYXJTdG9yZWRTZXNzaW9uKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZGlzY29ubmVjdCxcbiAgfTtcbn1cbiJdfQ==