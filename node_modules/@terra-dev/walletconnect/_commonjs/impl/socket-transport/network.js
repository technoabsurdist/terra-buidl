"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// -- NetworkMonitor --------------------------------------------------------- //
class NetworkMonitor {
    constructor() {
        this._eventEmitters = [];
        if (typeof window !== 'undefined' &&
            typeof window.addEventListener !== 'undefined') {
            window.addEventListener('online', () => this.trigger('online'));
            window.addEventListener('offline', () => this.trigger('offline'));
        }
    }
    on(event, callback) {
        this._eventEmitters.push({
            event,
            callback,
        });
    }
    trigger(event) {
        let eventEmitters = [];
        if (event) {
            eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === event);
        }
        eventEmitters.forEach((eventEmitter) => {
            eventEmitter.callback();
        });
    }
}
exports.default = NetworkMonitor;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0d29yay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9AdGVycmEtZGV2L3dhbGxldGNvbm5lY3QvaW1wbC9zb2NrZXQtdHJhbnNwb3J0L25ldHdvcmsudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFNQSxpRkFBaUY7QUFFakYsTUFBTSxjQUFjO0lBR2xCO1FBQ0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFFekIsSUFDRSxPQUFPLE1BQU0sS0FBSyxXQUFXO1lBQzdCLE9BQVEsTUFBYyxDQUFDLGdCQUFnQixLQUFLLFdBQVcsRUFDdkQ7WUFDQSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNoRSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztTQUNuRTtJQUNILENBQUM7SUFFTSxFQUFFLENBQUMsS0FBbUIsRUFBRSxRQUFvQjtRQUNqRCxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQztZQUN2QixLQUFLO1lBQ0wsUUFBUTtTQUNULENBQUMsQ0FBQztJQUNMLENBQUM7SUFFTSxPQUFPLENBQUMsS0FBbUI7UUFDaEMsSUFBSSxhQUFhLEdBQTJCLEVBQUUsQ0FBQztRQUUvQyxJQUFJLEtBQUssRUFBRTtZQUNULGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FDeEMsQ0FBQyxZQUFrQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxLQUFLLEtBQUssQ0FDckUsQ0FBQztTQUNIO1FBRUQsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQWtDLEVBQUUsRUFBRTtZQUMzRCxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUFFRCxrQkFBZSxjQUFjLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBOZXR3b3JrRXZlbnQsXG4gIElOZXR3b3JrRXZlbnRFbWl0dGVyLFxuICBJTmV0d29ya01vbml0b3IsXG59IGZyb20gJ0B3YWxsZXRjb25uZWN0L3R5cGVzJztcblxuLy8gLS0gTmV0d29ya01vbml0b3IgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmNsYXNzIE5ldHdvcmtNb25pdG9yIGltcGxlbWVudHMgSU5ldHdvcmtNb25pdG9yIHtcbiAgcHJpdmF0ZSBfZXZlbnRFbWl0dGVyczogSU5ldHdvcmtFdmVudEVtaXR0ZXJbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9ldmVudEVtaXR0ZXJzID0gW107XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mICh3aW5kb3cgYXMgYW55KS5hZGRFdmVudExpc3RlbmVyICE9PSAndW5kZWZpbmVkJ1xuICAgICkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IHRoaXMudHJpZ2dlcignb25saW5lJykpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCAoKSA9PiB0aGlzLnRyaWdnZXIoJ29mZmxpbmUnKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uKGV2ZW50OiBOZXR3b3JrRXZlbnQsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fZXZlbnRFbWl0dGVycy5wdXNoKHtcbiAgICAgIGV2ZW50LFxuICAgICAgY2FsbGJhY2ssXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgdHJpZ2dlcihldmVudDogTmV0d29ya0V2ZW50KTogdm9pZCB7XG4gICAgbGV0IGV2ZW50RW1pdHRlcnM6IElOZXR3b3JrRXZlbnRFbWl0dGVyW10gPSBbXTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgZXZlbnRFbWl0dGVycyA9IHRoaXMuX2V2ZW50RW1pdHRlcnMuZmlsdGVyKFxuICAgICAgICAoZXZlbnRFbWl0dGVyOiBJTmV0d29ya0V2ZW50RW1pdHRlcikgPT4gZXZlbnRFbWl0dGVyLmV2ZW50ID09PSBldmVudCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZXZlbnRFbWl0dGVycy5mb3JFYWNoKChldmVudEVtaXR0ZXI6IElOZXR3b3JrRXZlbnRFbWl0dGVyKSA9PiB7XG4gICAgICBldmVudEVtaXR0ZXIuY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZXR3b3JrTW9uaXRvcjtcbiJdfQ==